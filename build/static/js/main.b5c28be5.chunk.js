(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{114:function(e,t,n){},125:function(e,t,n){},126:function(e,t,n){"use strict";n.r(t);var a=n(15),c=n(27),r=n.n(c),s=(n(114),n(23)),o=n(13),i=n(88),l=n.n(i),j=n(176),u=n(174),d=n(177),b=n(175),O=n(173),p=n(178),h=n(87),x=n.n(h),m=n(17),f=n.n(m),g=n(34),y=n(39),v=n.n(y),E="LOGOUT_REQUEST",w="LOGOUT_SUCCESS",N="LOAD_USER_REQUEST",C="LOAD_USER_SUCCESS",S="LOAD_USER_FAIL",A="CLEAR_ERRORS",L="CLEAR_MESSAGES",k="CLIENT_LOGIN_REQUEST",T="CLIENT_LOGIN_SUCCESS",R="CLIENT_LOGIN_FAIL",_="CLIENT_REGISTER_REQUEST",I="CLIENT_REGISTER_SUCCESS",D="CLIENT_REGISTER_FAIL",U="CLIENT_DETAILS",F="NO_CLIENT",G="CLEAR_ERRORS",P="CLEAR_MESSAGES",B=n(21),M=n(32),H=n(0),Y=n(168),J=n(181),Q=n(171),W=n(182),z=n(183),q=n(83),K=n.n(q),V=n(86),X=n.n(V),Z=n(85),$=n.n(Z),ee="SHOW_MAIN_DRAWER",te="HIDE_MAIN_DRAWER",ne=n(1),ae=function(){var e=Object(B.b)(),t=Object(B.c)((function(e){return e.design})).mainDrawer;return Object(ne.jsx)(H.Fragment,{children:Object(ne.jsx)(Y.a,{anchor:"right",open:t,children:Object(ne.jsx)(u.a,{sx:{width:"auto"},role:"presentation",onClick:function(t){e({type:te})},children:Object(ne.jsxs)(J.a,{children:[Object(ne.jsxs)(Q.a,{button:!0,children:[Object(ne.jsx)(W.a,{children:Object(ne.jsx)(K.a,{className:"red"})}),Object(ne.jsx)(z.a,{primary:"Close",className:"red"})]}),Object(ne.jsxs)(Q.a,{children:[Object(ne.jsx)(W.a,{children:Object(ne.jsx)($.a,{className:"black"})}),Object(ne.jsx)(s.b,{to:"/",className:"Link black",children:Object(ne.jsx)(z.a,{primary:"Home Page"})})]}),Object(ne.jsxs)(Q.a,{children:[Object(ne.jsx)(W.a,{children:Object(ne.jsx)(X.a,{className:"black"})}),Object(ne.jsx)(s.b,{to:"/addProduct",className:"Link black",children:Object(ne.jsx)(z.a,{primary:"Add New Product"})})]})]})})})})},ce=function(){var e=Object(M.d)(),t=Object(B.b)(),n=Object(B.c)((function(e){return e.auth})).isAuthenticated;return Object(ne.jsxs)(H.Fragment,{children:[Object(ne.jsx)(ae,{}),Object(ne.jsx)(H.Fragment,{children:Object(ne.jsxs)(u.a,{sx:{flexGrow:1},children:[Object(ne.jsx)(j.a,{position:"fixed",color:"secondary",children:Object(ne.jsxs)(d.a,{children:[Object(ne.jsx)(p.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:1},onClick:function(e){return t({type:ee})},children:Object(ne.jsx)(x.a,{})}),Object(ne.jsx)(b.a,{variant:"p",component:"div",sx:{flexGrow:1},children:Object(ne.jsx)(s.b,{to:"/",className:"Link white",style:{fontSize:"20px"},children:"Alasca Fashion"})}),n?Object(ne.jsx)(O.a,{color:"error",onClick:function(n){t(function(){var e=Object(g.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:E}),n={method:"GET"},e.next=4,fetch("/api/v1/common/logout?token=".concat(v.a.load("token")),n).then((function(e){return e.json()})).then((function(e){v.a.remove("token"),t({type:w}),"client"===e.type&&t({type:F})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.info("Logged Out.")},variant:"contained",children:"Log out"}):Object(ne.jsx)(s.b,{to:"/c/signup",className:"Link white",children:Object(ne.jsx)(l.a,{})})]})}),Object(ne.jsx)("div",{style:{height:"55px"}})]})})]})},re=n(89),se=function(e){var t=e.title;return Object(ne.jsx)(re.a,{children:Object(ne.jsx)("title",{children:t})})},oe=(n(125),function(){return Object(ne.jsx)("div",{className:"loading",children:Object(ne.jsx)("div",{})})}),ie=function(){var e=Object(B.c)((function(e){return e.auth})).loading;return Object(ne.jsxs)(H.Fragment,{children:[Object(ne.jsx)(se,{title:"Home Alasaca"}),e?Object(ne.jsx)(oe,{}):Object(ne.jsx)(H.Fragment,{children:Object(ne.jsx)("h1",{children:"Homme"})})]})},le=n(8),je=n(14),ue=(n(80),n(179)),de=n(166),be=n(180),Oe=n(169),pe=n(92),he=n.n(pe),xe=n(62),me=n.n(xe),fe=n(61),ge=n.n(fe),ye=n(93),ve=n.n(ye),Ee=n(94),we=n.n(Ee),Ne=function(){return function(){var e=Object(g.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:G});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ce=function(){return function(){var e=Object(g.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:P});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Se=function(){var e=Object(M.d)(),t=Object(o.f)(),n=Object(B.b)(),c=Object(B.c)((function(e){return e.client})),r=c.loading,i=c.client,l=c.message,j=c.error;Object(H.useEffect)((function(){j&&(e.error(j),n(Ne())),i&&(l&&(e.success(l),n(Ce())),t("/"))}),[n,j,e,l,i,t]);var u=Object(H.useState)({name:"",email:"",phone:"",password:""}),d=Object(je.a)(u,2),p=d[0],h=d[1],x=p.name,m=p.email,y=p.phone,E=p.password,w=function(e){var t=e.target,n=t.name,c=t.value;h(Object(a.a)(Object(a.a)({},p),{},Object(le.a)({},n,c)))};return Object(ne.jsx)(H.Fragment,{children:r?Object(ne.jsx)(oe,{}):Object(ne.jsxs)(H.Fragment,{children:[Object(ne.jsx)(se,{title:"New User | Signup"}),Object(ne.jsx)("div",{style:{height:"4vh"}}),Object(ne.jsx)(b.a,{variant:"h6",display:"block",sx:{textAlign:"center",marginBottom:"20px"},gutterBottom:!0,children:"New User"}),Object(ne.jsx)("div",{className:"mainDiv",children:Object(ne.jsxs)(de.a,{children:[Object(ne.jsx)(ue.a,{className:"formControl",children:Object(ne.jsx)(Oe.a,{type:"text",placeholder:"Your Name",className:"input",name:"name",value:x,onChange:function(e){return w(e)},startAdornment:Object(ne.jsx)(be.a,{position:"start",children:Object(ne.jsx)(ge.a,{color:"secondary"})})})}),Object(ne.jsx)(ue.a,{className:"formControl",children:Object(ne.jsx)(Oe.a,{type:"email",placeholder:"Your Email",className:"input",name:"email",value:m,onChange:function(e){return w(e)},startAdornment:Object(ne.jsx)(be.a,{position:"start",children:Object(ne.jsx)(he.a,{color:"secondary"})})})}),Object(ne.jsx)(ue.a,{className:"formControl",children:Object(ne.jsx)(Oe.a,{type:"text",placeholder:"Your Phone",className:"input",sx:{marginBottom:"9px"},name:"phone",value:y,onChange:function(e){return w(e)},startAdornment:Object(ne.jsx)(be.a,{position:"start",children:Object(ne.jsx)(ve.a,{color:"secondary"})})})}),Object(ne.jsx)(ue.a,{className:"formControl",children:Object(ne.jsx)(Oe.a,{type:"password",placeholder:"Password",className:"input",sx:{marginBottom:"9px"},name:"password",value:E,onChange:function(e){return w(e)},startAdornment:Object(ne.jsx)(be.a,{position:"start",children:Object(ne.jsx)(me.a,{color:"secondary"})})})}),Object(ne.jsx)(b.a,{variant:"caption",display:"block",sx:{textAlign:"center",marginBottom:"41px"},gutterBottom:!0,children:"Your information is always safe with us :)"}),Object(ne.jsx)(O.a,{variant:"contained",color:"secondary",endIcon:Object(ne.jsx)(we.a,{}),sx:{marginTop:"10px"},onClick:function(t){return x?x.length>30?e.error("Name length can't exceed 30 letters."):m.includes("@")?10!==y.length?e.error("Enter 10 digit long phone number."):E.length<8?e.error("Password must be atleast 8 letters."):void n(function(e,t,n,a){return function(){var c=Object(g.a)(f.a.mark((function c(r){var s;return f.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return r({type:_}),s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,email:t,phone:n,password:a})},c.next=4,fetch("/api/v1/client/signup",s).then((function(e){return e.json()})).then((function(e){e.success?(r({type:C}),r({type:I,payload:{client:e.user,message:"Registered Successfully."}}),v.a.save("token",e.token)):r({type:D,payload:e.message})})).catch((function(e){r({type:D,payload:"Please Try Again."})}));case 4:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()}(x,m,y,E)):e.error("Invalid Email."):e.error("Name can't be empty.")},children:"Register"}),Object(ne.jsx)(s.b,{to:"/c/login",className:"Link mt-2 textCenter fontwb",style:{color:"tomato"},children:Object(ne.jsx)("p",{children:"Already User? Login"})})]})})]})})},Ae=n(95),Le=n.n(Ae),ke=function(){var e=Object(M.d)(),t=Object(o.f)(),n=Object(B.b)(),c=Object(B.c)((function(e){return e.client})),r=c.loading,i=c.client,l=c.message,j=c.error;Object(H.useEffect)((function(){j&&(e.error(j),n(Ne())),i&&(l&&(e.success(l),n(Ce())),t("/"))}),[n,j,e,l,i,t]);var u=Object(H.useState)({ID:"",password:""}),d=Object(je.a)(u,2),p=d[0],h=d[1],x=p.ID,m=p.password,y=function(e){var t=e.target,n=t.name,c=t.value;h(Object(a.a)(Object(a.a)({},p),{},Object(le.a)({},n,c)))};return Object(ne.jsx)(H.Fragment,{children:r?Object(ne.jsx)(oe,{}):Object(ne.jsxs)(H.Fragment,{children:[Object(ne.jsx)(se,{title:"Login | Alasca Fashion"}),Object(ne.jsx)("div",{style:{height:"6vh"}}),Object(ne.jsx)(b.a,{variant:"h6",display:"block",sx:{textAlign:"center",marginBottom:"32px"},gutterBottom:!0,children:"Login"}),Object(ne.jsx)("div",{className:"mainDiv",children:Object(ne.jsxs)(de.a,{children:[Object(ne.jsx)(ue.a,{className:"formControl",children:Object(ne.jsx)(Oe.a,{type:"text",placeholder:"Email or Phone",className:"input",name:"ID",value:x,onChange:function(e){return y(e)},startAdornment:Object(ne.jsx)(be.a,{position:"start",children:Object(ne.jsx)(ge.a,{color:"secondary"})})})}),Object(ne.jsx)(ue.a,{className:"formControl",children:Object(ne.jsx)(Oe.a,{type:"password",placeholder:"Password",className:"input",sx:{marginBottom:"9px"},name:"password",value:m,onChange:function(e){return y(e)},startAdornment:Object(ne.jsx)(be.a,{position:"start",children:Object(ne.jsx)(me.a,{color:"secondary"})})})}),Object(ne.jsx)(b.a,{variant:"caption",display:"block",sx:{textAlign:"center",marginBottom:"41px"},gutterBottom:!0,children:"Your information is always safe with us :)"}),Object(ne.jsx)(O.a,{variant:"contained",color:"secondary",endIcon:Object(ne.jsx)(Le.a,{}),sx:{marginTop:"10px"},onClick:function(t){return x?m?void n(function(e,t){return function(){var n=Object(g.a)(f.a.mark((function n(a){var c;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:k}),c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ID:e,password:t})},n.next=4,fetch("/api/v1/client/login",c).then((function(e){return e.json()})).then((function(e){e.success?(a({type:C}),a({type:T,payload:{client:e.user,message:"Logged In."}}),v.a.save("token",e.token)):a({type:R,payload:e.message})})).catch((function(e){a({type:R,payload:"Please Try Again."})}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(x,m)):e.error("Password can't be empty."):e.error("Email or Phone can't be empty.")},children:"Login"}),Object(ne.jsx)(s.b,{to:"/c/signup",className:"Link mt-2 textCenter fontwb",style:{color:"tomato"},children:Object(ne.jsx)("p",{children:"New User? Signup"})})]})})]})})},Te=n(54),Re=n(97),_e=n(96),Ie=Object(Te.combineReducers)({design:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{mainDrawer:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee:return{mainDrawer:!0};case te:return{mainDrawer:!1};default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:case E:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case w:return{loading:!1,isAuthenticated:!1};case C:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isAuthenticated:!0});case S:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isAuthenticated:!1});case A:return Object(a.a)(Object(a.a)({},e),{},{error:null});case L:return Object(a.a)(Object(a.a)({},e),{},{message:null});default:return e}},client:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:case _:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case T:case I:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,client:t.payload.client,message:t.payload.message});case R:case D:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,client:null,error:t.payload});case U:return Object(a.a)(Object(a.a)({},e),{},{client:t.payload});case F:return Object(a.a)(Object(a.a)({},e),{},{client:null});case G:return Object(a.a)(Object(a.a)({},e),{},{error:null});case P:return Object(a.a)(Object(a.a)({},e),{},{message:null});default:return e}}}),De=[Re.a],Ue=Object(Te.createStore)(Ie,{},Object(_e.composeWithDevTools)(Te.applyMiddleware.apply(void 0,De)));var Fe=function(){return Object(H.useEffect)((function(){Ue.dispatch(function(){var e=Object(g.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:N}),n={method:"GET"},e.next=4,fetch("/api/v1/common/profile?token=".concat(v.a.load("token")),n).then((function(e){return e.json()})).then((function(e){e.success?("client"===e.user.type&&t({type:U,payload:e.user}),t({type:C})):(v.a.remove("token"),t({type:S}))})).catch((function(e){t({type:S})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(ne.jsxs)(s.a,{children:[Object(ne.jsx)(ce,{}),Object(ne.jsxs)(o.c,{children:[Object(ne.jsx)(o.a,{exact:!0,path:"/",element:Object(ne.jsx)(ie,{})}),Object(ne.jsx)(o.a,{exact:!0,path:"/c/signup",element:Object(ne.jsx)(Se,{})}),Object(ne.jsx)(o.a,{exact:!0,path:"/c/login",element:Object(ne.jsx)(ke,{})})]})]})},Ge=n(98),Pe={timeout:5e3,position:M.b.BOTTOM_CENTER,transition:M.c.SCALE};r.a.render(Object(ne.jsx)(B.a,{store:Ue,children:Object(ne.jsx)(M.a,Object(a.a)(Object(a.a)({template:Ge.a},Pe),{},{children:Object(ne.jsx)(Fe,{})}))}),document.getElementById("root"))},80:function(e,t,n){}},[[126,1,2]]]);
//# sourceMappingURL=main.b5c28be5.chunk.js.map