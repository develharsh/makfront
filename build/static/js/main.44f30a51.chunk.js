(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{115:function(e,t,n){},126:function(e,t,n){},127:function(e,t,n){"use strict";n.r(t);var a=n(15),c=n(27),r=n.n(c),s=(n(115),n(23)),o=n(13),i=n(89),l=n.n(i),j=n(177),u=n(175),d=n(178),b=n(176),O=n(174),p=n(179),h=n(88),x=n.n(h),m=n(17),f=n.n(m),g=n(34),y=n(39),v=n.n(y),E=n(47),w="LOGOUT_REQUEST",N="LOGOUT_SUCCESS",A="LOAD_USER_REQUEST",C="LOAD_USER_SUCCESS",S="LOAD_USER_FAIL",L="CLEAR_ERRORS",k="CLEAR_MESSAGES",R="CLIENT_LOGIN_REQUEST",_="CLIENT_LOGIN_SUCCESS",I="CLIENT_LOGIN_FAIL",T="CLIENT_REGISTER_REQUEST",U="CLIENT_REGISTER_SUCCESS",P="CLIENT_REGISTER_FAIL",D="CLIENT_DETAILS",F="NO_CLIENT",G="CLEAR_ERRORS",B="CLEAR_MESSAGES",M=n(21),H=n(32),Y=n(0),J=n(169),Q=n(182),W=n(172),z=n(183),q=n(184),K=n(84),V=n.n(K),X=n(87),Z=n.n(X),$=n(86),ee=n.n($),te="SHOW_MAIN_DRAWER",ne="HIDE_MAIN_DRAWER",ae=n(1),ce=function(){var e=Object(M.b)(),t=Object(M.c)((function(e){return e.design})).mainDrawer;return Object(ae.jsx)(Y.Fragment,{children:Object(ae.jsx)(J.a,{anchor:"right",open:t,children:Object(ae.jsx)(u.a,{sx:{width:"auto"},role:"presentation",onClick:function(t){e({type:ne})},children:Object(ae.jsxs)(Q.a,{children:[Object(ae.jsxs)(W.a,{button:!0,children:[Object(ae.jsx)(z.a,{children:Object(ae.jsx)(V.a,{className:"red"})}),Object(ae.jsx)(q.a,{primary:"Close",className:"red"})]}),Object(ae.jsxs)(W.a,{children:[Object(ae.jsx)(z.a,{children:Object(ae.jsx)(ee.a,{className:"black"})}),Object(ae.jsx)(s.b,{to:"/",className:"Link black",children:Object(ae.jsx)(q.a,{primary:"Home Page"})})]}),Object(ae.jsxs)(W.a,{children:[Object(ae.jsx)(z.a,{children:Object(ae.jsx)(Z.a,{className:"black"})}),Object(ae.jsx)(s.b,{to:"/addProduct",className:"Link black",children:Object(ae.jsx)(q.a,{primary:"Add New Product"})})]})]})})})})},re=function(){var e=Object(H.d)(),t=Object(M.b)(),n=Object(M.c)((function(e){return e.auth})).isAuthenticated;return Object(ae.jsxs)(Y.Fragment,{children:[Object(ae.jsx)(ce,{}),Object(ae.jsx)(Y.Fragment,{children:Object(ae.jsxs)(u.a,{sx:{flexGrow:1},children:[Object(ae.jsx)(j.a,{position:"fixed",color:"secondary",children:Object(ae.jsxs)(d.a,{children:[Object(ae.jsx)(p.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:1},onClick:function(e){return t({type:te})},children:Object(ae.jsx)(x.a,{})}),Object(ae.jsx)(b.a,{variant:"p",component:"div",sx:{flexGrow:1},children:Object(ae.jsx)(s.b,{to:"/",className:"Link white",style:{fontSize:"20px"},children:"Alasca Fashion"})}),n?Object(ae.jsx)(O.a,{color:"error",onClick:function(n){t(function(){var e=Object(g.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:w}),n={method:"GET"},e.next=4,fetch("".concat(E.API_URL,"/api/v1/common/logout?token=").concat(v.a.load("token")),n).then((function(e){return e.json()})).then((function(e){v.a.remove("token"),t({type:N}),"client"===e.type&&t({type:F})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.info("Logged Out.")},variant:"contained",children:"Log out"}):Object(ae.jsx)(s.b,{to:"/c/signup",className:"Link white",children:Object(ae.jsx)(l.a,{})})]})}),Object(ae.jsx)("div",{style:{height:"55px"}})]})})]})},se=n(90),oe=function(e){var t=e.title;return Object(ae.jsx)(se.a,{children:Object(ae.jsx)("title",{children:t})})},ie=(n(126),function(){return Object(ae.jsx)("div",{className:"loading",children:Object(ae.jsx)("div",{})})}),le=function(){var e=Object(M.c)((function(e){return e.auth})).loading;return Object(ae.jsxs)(Y.Fragment,{children:[Object(ae.jsx)(oe,{title:"Home Alasaca"}),e?Object(ae.jsx)(ie,{}):Object(ae.jsx)(Y.Fragment,{children:Object(ae.jsx)("h1",{children:"Home"})})]})},je=n(8),ue=n(14),de=(n(81),n(180)),be=n(167),Oe=n(181),pe=n(170),he=n(93),xe=n.n(he),me=n(63),fe=n.n(me),ge=n(62),ye=n.n(ge),ve=n(94),Ee=n.n(ve),we=n(95),Ne=n.n(we),Ae=function(){return function(){var e=Object(g.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:G});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ce=function(){return function(){var e=Object(g.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:B});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Se=function(){var e=Object(H.d)(),t=Object(o.f)(),n=Object(M.b)(),c=Object(M.c)((function(e){return e.client})),r=c.loading,i=c.client,l=c.message,j=c.error;Object(Y.useEffect)((function(){j&&(e.error(j),n(Ae())),i&&(l&&(e.success(l),n(Ce())),t("/"))}),[n,j,e,l,i,t]);var u=Object(Y.useState)({name:"",email:"",phone:"",password:""}),d=Object(ue.a)(u,2),p=d[0],h=d[1],x=p.name,m=p.email,y=p.phone,w=p.password,N=function(e){var t=e.target,n=t.name,c=t.value;h(Object(a.a)(Object(a.a)({},p),{},Object(je.a)({},n,c)))};return Object(ae.jsx)(Y.Fragment,{children:r?Object(ae.jsx)(ie,{}):Object(ae.jsxs)(Y.Fragment,{children:[Object(ae.jsx)(oe,{title:"New User | Signup"}),Object(ae.jsx)("div",{style:{height:"4vh"}}),Object(ae.jsx)(b.a,{variant:"h6",display:"block",sx:{textAlign:"center",marginBottom:"20px"},gutterBottom:!0,children:"New User"}),Object(ae.jsx)("div",{className:"mainDiv",children:Object(ae.jsxs)(be.a,{children:[Object(ae.jsx)(de.a,{className:"formControl",children:Object(ae.jsx)(pe.a,{type:"text",placeholder:"Your Name",className:"input",name:"name",value:x,onChange:function(e){return N(e)},startAdornment:Object(ae.jsx)(Oe.a,{position:"start",children:Object(ae.jsx)(ye.a,{color:"secondary"})})})}),Object(ae.jsx)(de.a,{className:"formControl",children:Object(ae.jsx)(pe.a,{type:"email",placeholder:"Your Email",className:"input",name:"email",value:m,onChange:function(e){return N(e)},startAdornment:Object(ae.jsx)(Oe.a,{position:"start",children:Object(ae.jsx)(xe.a,{color:"secondary"})})})}),Object(ae.jsx)(de.a,{className:"formControl",children:Object(ae.jsx)(pe.a,{type:"text",placeholder:"Your Phone",className:"input",sx:{marginBottom:"9px"},name:"phone",value:y,onChange:function(e){return N(e)},startAdornment:Object(ae.jsx)(Oe.a,{position:"start",children:Object(ae.jsx)(Ee.a,{color:"secondary"})})})}),Object(ae.jsx)(de.a,{className:"formControl",children:Object(ae.jsx)(pe.a,{type:"password",placeholder:"Password",className:"input",sx:{marginBottom:"9px"},name:"password",value:w,onChange:function(e){return N(e)},startAdornment:Object(ae.jsx)(Oe.a,{position:"start",children:Object(ae.jsx)(fe.a,{color:"secondary"})})})}),Object(ae.jsx)(b.a,{variant:"caption",display:"block",sx:{textAlign:"center",marginBottom:"41px"},gutterBottom:!0,children:"Your information is always safe with us :)"}),Object(ae.jsx)(O.a,{variant:"contained",color:"secondary",endIcon:Object(ae.jsx)(Ne.a,{}),sx:{marginTop:"10px"},onClick:function(t){return x?x.length>30?e.error("Name length can't exceed 30 letters."):m.includes("@")?10!==y.length?e.error("Enter 10 digit long phone number."):w.length<8?e.error("Password must be atleast 8 letters."):void n(function(e,t,n,a){return function(){var c=Object(g.a)(f.a.mark((function c(r){var s;return f.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return r({type:T}),s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,email:t,phone:n,password:a})},c.next=4,fetch("".concat(E.API_URL,"/api/v1/client/signup"),s).then((function(e){return e.json()})).then((function(e){e.success?(r({type:C}),r({type:U,payload:{client:e.user,message:"Registered Successfully."}}),v.a.save("token",e.token)):r({type:P,payload:e.message})})).catch((function(e){r({type:P,payload:"Please Try Again."})}));case 4:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()}(x,m,y,w)):e.error("Invalid Email."):e.error("Name can't be empty.")},children:"Register"}),Object(ae.jsx)(s.b,{to:"/c/login",className:"Link mt-2 textCenter fontwb",style:{color:"tomato"},children:Object(ae.jsx)("p",{children:"Already User? Login"})})]})})]})})},Le=n(96),ke=n.n(Le),Re=function(){var e=Object(H.d)(),t=Object(o.f)(),n=Object(M.b)(),c=Object(M.c)((function(e){return e.client})),r=c.loading,i=c.client,l=c.message,j=c.error;Object(Y.useEffect)((function(){j&&(e.error(j),n(Ae())),i&&(l&&(e.success(l),n(Ce())),t("/"))}),[n,j,e,l,i,t]);var u=Object(Y.useState)({ID:"",password:""}),d=Object(ue.a)(u,2),p=d[0],h=d[1],x=p.ID,m=p.password,y=function(e){var t=e.target,n=t.name,c=t.value;h(Object(a.a)(Object(a.a)({},p),{},Object(je.a)({},n,c)))};return Object(ae.jsx)(Y.Fragment,{children:r?Object(ae.jsx)(ie,{}):Object(ae.jsxs)(Y.Fragment,{children:[Object(ae.jsx)(oe,{title:"Login | Alasca Fashion"}),Object(ae.jsx)("div",{style:{height:"6vh"}}),Object(ae.jsx)(b.a,{variant:"h6",display:"block",sx:{textAlign:"center",marginBottom:"32px"},gutterBottom:!0,children:"Login"}),Object(ae.jsx)("div",{className:"mainDiv",children:Object(ae.jsxs)(be.a,{children:[Object(ae.jsx)(de.a,{className:"formControl",children:Object(ae.jsx)(pe.a,{type:"text",placeholder:"Email or Phone",className:"input",name:"ID",value:x,onChange:function(e){return y(e)},startAdornment:Object(ae.jsx)(Oe.a,{position:"start",children:Object(ae.jsx)(ye.a,{color:"secondary"})})})}),Object(ae.jsx)(de.a,{className:"formControl",children:Object(ae.jsx)(pe.a,{type:"password",placeholder:"Password",className:"input",sx:{marginBottom:"9px"},name:"password",value:m,onChange:function(e){return y(e)},startAdornment:Object(ae.jsx)(Oe.a,{position:"start",children:Object(ae.jsx)(fe.a,{color:"secondary"})})})}),Object(ae.jsx)(b.a,{variant:"caption",display:"block",sx:{textAlign:"center",marginBottom:"41px"},gutterBottom:!0,children:"Your information is always safe with us :)"}),Object(ae.jsx)(O.a,{variant:"contained",color:"secondary",endIcon:Object(ae.jsx)(ke.a,{}),sx:{marginTop:"10px"},onClick:function(t){return x?m?void n(function(e,t){return function(){var n=Object(g.a)(f.a.mark((function n(a){var c;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:R}),c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ID:e,password:t})},n.next=4,fetch("".concat(E.API_URL,"/api/v1/client/login"),c).then((function(e){return e.json()})).then((function(e){e.success?(a({type:C}),a({type:_,payload:{client:e.user,message:"Logged In."}}),v.a.save("token",e.token)):a({type:I,payload:e.message})})).catch((function(e){a({type:I,payload:"Please Try Again."})}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(x,m)):e.error("Password can't be empty."):e.error("Email or Phone can't be empty.")},children:"Login"}),Object(ae.jsx)(s.b,{to:"/c/signup",className:"Link mt-2 textCenter fontwb",style:{color:"tomato"},children:Object(ae.jsx)("p",{children:"New User? Signup"})})]})})]})})},_e=n(55),Ie=n(98),Te=n(97),Ue=Object(_e.combineReducers)({design:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{mainDrawer:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:return{mainDrawer:!0};case ne:return{mainDrawer:!1};default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:case w:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case N:return{loading:!1,isAuthenticated:!1};case C:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isAuthenticated:!0});case S:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,isAuthenticated:!1});case L:return Object(a.a)(Object(a.a)({},e),{},{error:null});case k:return Object(a.a)(Object(a.a)({},e),{},{message:null});default:return e}},client:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:case T:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case _:case U:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,client:t.payload.client,message:t.payload.message});case I:case P:return Object(a.a)(Object(a.a)({},e),{},{loading:!1,client:null,error:t.payload});case D:return Object(a.a)(Object(a.a)({},e),{},{client:t.payload});case F:return Object(a.a)(Object(a.a)({},e),{},{client:null});case G:return Object(a.a)(Object(a.a)({},e),{},{error:null});case B:return Object(a.a)(Object(a.a)({},e),{},{message:null});default:return e}}}),Pe=[Ie.a],De=Object(_e.createStore)(Ue,{},Object(Te.composeWithDevTools)(_e.applyMiddleware.apply(void 0,Pe)));var Fe=function(){return Object(Y.useEffect)((function(){De.dispatch(function(){var e=Object(g.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:A}),n={method:"GET"},e.next=4,fetch("".concat(E.API_URL,"/api/v1/common/profile?token=").concat(v.a.load("token")),n).then((function(e){return e.json()})).then((function(e){e.success?("client"===e.user.type&&t({type:D,payload:e.user}),t({type:C})):(v.a.remove("token"),t({type:S}))})).catch((function(e){t({type:S})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(ae.jsxs)(s.a,{children:[Object(ae.jsx)(re,{}),Object(ae.jsxs)(o.c,{children:[Object(ae.jsx)(o.a,{exact:!0,path:"/",element:Object(ae.jsx)(le,{})}),Object(ae.jsx)(o.a,{exact:!0,path:"/c/signup",element:Object(ae.jsx)(Se,{})}),Object(ae.jsx)(o.a,{exact:!0,path:"/c/login",element:Object(ae.jsx)(Re,{})})]})]})},Ge=n(99),Be={timeout:5e3,position:H.b.BOTTOM_CENTER,transition:H.c.SCALE};r.a.render(Object(ae.jsx)(M.a,{store:De,children:Object(ae.jsx)(H.a,Object(a.a)(Object(a.a)({template:Ge.a},Be),{},{children:Object(ae.jsx)(Fe,{})}))}),document.getElementById("root"))},47:function(e,t){e.exports={API_URL:""}},81:function(e,t,n){}},[[127,1,2]]]);
//# sourceMappingURL=main.44f30a51.chunk.js.map